<VirtualHost *:443>
    ServerName hr.atlastech.com
    DocumentRoot "C:/xampp/htdocs/schoolpro/public"

    SSLEngine on
    SSLCertificateFile "C:/xampp/apache/conf/ssl/hr.atlastech.com.crt"
    SSLCertificateKeyFile "C:/xampp/apache/conf/ssl/hr.atlastech.com.key"

    <Directory "C:/xampp/htdocs/schoolpro/public">
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Security headers
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"

    ErrorLog "logs/hr-atlastech-error.log"
    CustomLog "logs/hr-atlastech-access.log" combined
</VirtualHost>

# Redirect HTTP to HTTPS
<VirtualHost *:80>
    ServerName hr.atlastech.com
    Redirect permanent / https://hr.atlastech.com/
</VirtualHost>
